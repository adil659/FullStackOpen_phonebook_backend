{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","newSearch","onChange","handleSearchOnChange","PersonForm","onSubmit","addPerson","newName","handleNameOnChange","newNumber","handleNumberOnChange","type","Persons","array","map","person","i","key","name","number","id","onClick","handleDeleteNumber","Notification","message","className","baseUrl","axios","get","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","showAll","setShowAll","notification","setNotification","useEffect","console","log","personService","then","response","data","filter","includes","event","target","length","preventDefault","newPerson","match","concat","catch","error","setTimeout","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.838e42a8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n        <div>\r\n          Filter Shown With: <input value={props.newSearch} onChange={props.handleSearchOnChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\n\r\nconst PersonForm = (props) => {\r\n    \r\n    return (\r\n        <div>\r\n        <form onSubmit={props.addPerson}>\r\n        <div>\r\n        name: <input value={props.newName} onChange={props.handleNameOnChange}/>\r\n        </div>\r\n        <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNumberOnChange}/>\r\n        </div>\r\n        <div>\r\n        <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n    \r\n    export default PersonForm","import React from 'react';\r\n\r\n\r\nconst Persons = (props) => {\r\n    \r\n    return (\r\n        <div>\r\n        <ul>\r\n        {props.array.map((person, i) => <li key={i}>{person.name} {person.number} <button value={person.id} key={person.name} onClick={props.handleDeleteNumber}>delete</button></li>)}\r\n        </ul>\r\n        \r\n        </div>\r\n        )\r\n    }\r\n    \r\n    export default Persons","import React from 'react';\r\n\r\n\r\nconst Notification = (props) => {\r\n    if (props.message === null) {\r\n        return null\r\n      }\r\n    return (\r\n        <div className=\"notify\">\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deletePerson: deletePerson \r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport axios from 'axios';\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [notification, setNotification] = useState(null)\n\n\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        console.log(response.data)\n\n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const match = persons.filter((person) => person.name == newName)\n\n    if (match.length == 0) {\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setNotification(\n            `Could not add`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n\n      setNotification(\"Successfully added!\")\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n\n    }\n    else {\n      const result = window.confirm(newName + \" is already added to phonebook would you like to update?\")\n      if (result) {\n        personService\n          .update(match[0].id, newPerson)\n          .then(response => {\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setNotification(\n              `Could not update`\n            )\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n\n        setNotification(\"Successfully updated!\")\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      }\n    }\n\n\n  }\n\n  const handleNameOnChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberOnChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchOnChange = (event) => {\n    setNewSearch(event.target.value)\n\n    if ((event.target.value).length == 0) {\n      setShowAll(true)\n    }\n    else {\n      setShowAll(false)\n    }\n  }\n\n  const handleDeleteNumber = (event) => {\n    //console.log(\"deleting\", event.target.value)\n    const result = window.confirm(\"would you like to delete?\")\n    if (result) {\n      personService\n        .deletePerson(event.target.value)\n        .then(response => {\n\n        })\n    }\n  }\n\n  const array = showAll ? persons : persons.filter((person) => person.name.includes(newSearch))\n\n  console.log(array)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter newSearch={newSearch} handleSearchOnChange={handleSearchOnChange} />\n\n      <br></br>\n\n      <Notification message={notification} />\n\n\n      <PersonForm addPerson={addPerson} handleNameOnChange={handleNameOnChange} handleNumberOnChange={handleNumberOnChange} newName={newName} newNumber={newNumber} />\n\n      <h2>Numbers</h2>\n      ...\n\n      <Persons array={array} handleDeleteNumber={handleDeleteNumber} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport axios from 'axios';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}